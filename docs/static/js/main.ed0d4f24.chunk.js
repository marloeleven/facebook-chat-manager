(this["webpackJsonpfb-chat-manager"]=this["webpackJsonpfb-chat-manager"]||[]).push([[0],{28:function(e){e.exports=JSON.parse('{"companyName":"M & L Damitan"}')},34:function(e,t,n){e.exports=n(45)},41:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(13),s=n.n(o),i=n(17),u=(n(41),n(9)),l=n(10),f=n(11),b=n(12),p=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(l.a)(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?c.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),n}(r.Component),g=n(27),m=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"save",value:function(e){return this.setState(Object(g.a)((function(t){e(t)})))}}]),n}(i.a);!function(e){e.en="en",e.ph="ph"}(a||(a={}));var h=n(28),v=new(function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={lang:a.en,data:h},e}return Object(l.a)(n,[{key:"setLang",value:function(e){this.save((function(t){return t.lang=e}))}},{key:"getText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.state.data.hasOwnProperty(e)?this.state.data[e]:t}}]),n}(m)),d=new(function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loggedIn:!1,accessToken:"",userId:""},e}return Object(l.a)(n,[{key:"setData",value:function(e){this.save((function(t){Object.assign(t,e)}))}}]),n}(m)),j=n(23),O=n.n(j),E=n(29),k=n(24),y=n(62),w=n(64),S=function(){return c.a.createElement("div",{className:"absolute top-0 h-full w-full flex justify-center items-center bg-black bg-opacity-50 flex-col"},c.a.createElement(y.a,null),c.a.createElement(w.a,{variant:"button",color:"inherit",className:"pt-4"},"Loading..."))},I=function(e){var t=e.id,n=e.name,a=e.onClick;return c.a.createElement("span",{onClick:function(){return a(t)}},n)},L=function(e){var t=e.pages,n=e.setSelectedPage;return c.a.createElement("ul",null,t.map((function(e){return c.a.createElement(I,Object.assign({},e,{onClick:n}))})))},x=n(66),C={fb:{appId:"563571747166109",version:"v7.0",messenger:{page_id:"402815903188264",color:"#e68585"},BASE_URL:"https://graph.facebook.com"}},A=window,B=function(e){var t,n=e.login,a=Object(r.useCallback)((function(e){var t=e.authResponse;if("connected"===e.status){var a=t.accessToken,r=t.userId;n.setData({accessToken:a,userId:r,loggedIn:!0})}}),[n]),o=Object(r.useCallback)((function(){A.FB.login(a)}),[a]);return t=function(){A.FB.init({appId:C.fb.appId,autoLogAppEvents:!0,xfbml:!0,version:C.fb.version}),A.FB.getLoginStatus(a)},Object(r.useEffect)(t,[]),c.a.createElement(x.a,{variant:"contained",color:"primary",onClick:o},"Login to Facebook")},R=n(65),D=function(e){return{baseURL:[C.fb.BASE_URL,C.fb.version].join("/"),params:new URLSearchParams(e).toString()}},F=function(e){var t=D({access_token:e}),n=t.baseURL,a=t.params;return new Promise((function(e,t){e(fetch("".concat(n,"/me/accounts?fields=id,name&").concat(a)).then((function(e){return e.json()})).catch(t))}))},N=Object(R.a)((function(e){return{root:{display:"flex"}}})),P=function(e){var t=e.login,n=N(),a=Object(r.useState)([]),o=Object(k.a)(a,2),s=o[0],i=o[1],u=Object(r.useState)(""),l=Object(k.a)(u,2),f=(l[0],l[1]);return Object(r.useEffect)((function(){Object(E.a)(O.a.mark((function e(){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.loggedIn){e.next=6;break}return e.next=3,F(t.state.accessToken);case 3:n=e.sent,a=n.data,i(a);case 6:case"end":return e.stop()}}),e)})))()}),[t.state,i]),c.a.createElement("div",{className:n.root},c.a.createElement(r.Suspense,{fallback:c.a.createElement(S,null)}),s.length&&c.a.createElement(L,{pages:s,setSelectedPage:f}),t.state.loggedIn&&c.a.createElement(B,{login:t}))};s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null,c.a.createElement(i.b,{inject:[v,d]},c.a.createElement(i.c,{to:[d]},(function(e){return c.a.createElement(P,{login:e})}))))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.ed0d4f24.chunk.js.map